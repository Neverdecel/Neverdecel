{# Ava Terminal Component with HTMX #}
<div class="terminal scanlines overflow-hidden max-w-xl mx-auto lg:max-w-none" role="region" aria-label="Ava AI Terminal">
    <!-- Terminal Header -->
    <div class="terminal-header flex items-center gap-2 px-4 py-3 border-b border-white/10">
        <div class="flex gap-2" aria-hidden="true">
            <span class="w-3 h-3 rounded-full bg-terminal-red/80 hover:bg-terminal-red transition-colors"></span>
            <span class="w-3 h-3 rounded-full bg-terminal-amber/80 hover:bg-terminal-amber transition-colors"></span>
            <span class="w-3 h-3 rounded-full bg-terminal-green/80 hover:bg-terminal-green transition-colors"></span>
        </div>
        <div class="ml-4 flex items-center gap-2 text-text-muted text-xs font-terminal">
            <span class="text-neon-cyan">ava</span>
            <span>@</span>
            <span>neverdecel</span>
            <span class="text-text-muted/50">~</span>
        </div>
    </div>

    <!-- Terminal Body -->
    <div id="terminal-body" class="p-4 md:p-5 h-80 md:h-96 overflow-y-auto font-terminal text-sm leading-relaxed">
        <!-- Boot sequence -->
        <div id="boot-sequence" aria-hidden="true">
            <div class="boot-line text-terminal-green/80" style="animation-delay: 0.1s">> SYSTEM ONLINE</div>
            <div class="boot-line text-terminal-green/80" style="animation-delay: 0.3s">> Ava v2.0.4 initialized</div>
            <div class="boot-line text-terminal-green mb-4" style="animation-delay: 0.5s">> Connection established</div>
        </div>

        <!-- Ava's Greeting -->
        <div id="ava-greeting" class="boot-line mb-4" style="animation-delay: 0.8s">
            <p class="mb-2 text-text-primary">Welcome to the grid. I'm <span class="text-neon-cyan">Ava</span>.</p>
            <p class="mb-2 text-text-secondary">Ask me anything about Neverdecelâ€”or just chat. I don't bite... much.</p>
            <p class="text-text-muted text-xs">Type <span class="text-terminal-amber">'help'</span> for commands.</p>
        </div>

        <!-- Chat Messages Container (HTMX target) with ARIA live region -->
        <div id="chat-messages"
             role="log"
             aria-live="polite"
             aria-label="Chat conversation with Ava"
             aria-relevant="additions"></div>

        <!-- Typing indicator (shown during HTMX request) -->
        <div id="typing-indicator"
             class="htmx-indicator text-text-muted text-sm"
             role="status"
             aria-live="polite">
            <span class="text-neon-cyan">Ava</span> is thinking<span class="typing-dots">...</span>
        </div>
    </div>

    <!-- Terminal Input with HTMX -->
    <div class="border-t border-white/10 px-4 py-3 bg-primary/60">
        <form id="terminal-form"
              hx-post="/api/ava/chat"
              hx-target="#chat-messages"
              hx-swap="beforeend"
              hx-indicator="#typing-indicator">
            <div class="flex items-center gap-2">
                <label for="terminal-input" class="text-terminal-amber font-terminal text-sm shrink-0">guest@grid:~$</label>
                <input
                    type="text"
                    name="message"
                    id="terminal-input"
                    class="flex-1 bg-transparent border-none outline-none text-text-primary font-terminal text-sm placeholder-text-muted/50 focus:ring-0"
                    placeholder="Enter command..."
                    autocomplete="off"
                    spellcheck="false"
                    maxlength="500"
                    aria-label="Enter your message to Ava"
                    aria-describedby="input-hint"
                >
                <span class="typing-cursor" aria-hidden="true"></span>
            </div>
            <span id="input-hint" class="sr-only">
                Type a message and press Enter to send. Maximum 500 characters. Type 'help' for available commands.
            </span>
        </form>
    </div>
</div>
